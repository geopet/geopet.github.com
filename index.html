
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Thoughts of Geoff</title>
  <meta name="author" content="Geoff Petrie">

  
  <meta name="description" content="If you have a heavy feature branch you may end up being in a place where your master local branch is actually another branch in your distributed repo &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://geopet.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Thoughts of Geoff" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2059328-12']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Thoughts of Geoff</a></h1>
  
    <h2>Some writing by Geoff Petrie</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:geopet.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://geoffpetrie.com">About Geoff</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/02/15/manually-pushing-to-a-remote-branch/">Manually Pushing to a Remote Git Branch</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-15T11:40:00-07:00" pubdate data-updated="true">Feb 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you have a heavy feature branch you may end up being in a place where your master local branch is actually another branch in your distributed repo. This can be confusing and cause challenges when pushing changes to your remote.</p>

<p>What you might see when you run <code>git remote show origin</code> is something like your Fetch URL and your Push URL are pointing to the same repo, and your local branch is properly configured for git pull, but git push is off.  It&#8217;ll probably say something like:</p>

<p><code>master pushes to master (local out of date)</code></p>

<p>Now there are ways to configure push and use tracking, but this is how to properly push to a remote branch manually that you&#8217;re not tracking locally:</p>

<p><code>git push origin &lt;local_branch_name&gt;:&lt;remote_branch_name&gt;</code></p>

<p>or:</p>

<p><code>git push origin master:web_site</code></p>

<p>This pushes your local branch <code>master</code> to the remote branch <code>web_site</code> on the remote repo <code>origin</code>.</p>

<p>And that&#8217;s it!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/30/fixing-a-slow-localhost-webrick-server/">Fixing a Slow Localhost Webrick Server</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-30T23:16:00-07:00" pubdate data-updated="true">Jan 30<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For the longest time I could not get Webrick to work for me. It would boot up with <code>rails s</code> but would take several seconds for even the default landing page of a rails app to load. It was terrible.</p>

<p>I resorted to using <a href="http://code.macournoyer.com/thin/">Thin</a> as my default browser by making sure it was in all my Gem files, but I still wanted to figure out why Webrick simply wouldn&#8217;t work for me. (Truth is, Thin is a better web server, but I still wanted to get Webrick to work for me.)</p>

<p>Searching for &#8220;webrick slow&#8221; brought up a possible solution via <a href="http://stackoverflow.com/a/3465134/887078">Stack Overflow</a>. Basically you change the <code>:DoNotReverseLookup</code> symbol in your global Webrick config from <code>nil</code> to <code>true</code>.</p>

<p>If you&#8217;re on OS X Lion you&#8217;ll find the Webrick configuration here:</p>

<p><code>~/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/config.rb</code></p>

<p>I found the <code>:DoNotReverseLookup</code> configuration on line 36.</p>

<p>Once I made the change Webrick was screaming fast. I&#8217;m pretty happy about it.</p>

<p>I still haven&#8217;t found the definitive reason why this problem is occurring, but at least this change appears to fix things for me.</p>

<hr />

<p>Please note, depending on the version of Ruby you&#8217;re running <code>ruby-1.9.3-p362</code> could be something different. Just as long as you&#8217;re changing the <code>confg.rb</code> file in the <code>webrick/</code> directory, you should be fine.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/18/thoughts-on-ego/">Some Thoughts on Ego</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-18T10:36:00-07:00" pubdate data-updated="true">Jan 18<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>To categorically define <em>Ego</em> is out of the scope of this writing. In order to make things easier on myself, and hopefully you, I will attempt to elucidate my meaning through example. But so that we&#8217;re all starting on the same foot, when I say ego I am referring to the informal and negative connotation of the word.</p>

<p>Why am I talking about ego?</p>

<p>For months now I have been trying to write about my journey as a newbie in the Ruby programming language. I have more than half a dozen starts to what should be a simple short piece of writing. All I wanted to do was provide some preamble so that I could then post the video I used as an entry into the <a href="http://rubyrogues.com/ruby-nuby-project/">Ruby Nuby</a> contest that the <a href="http://rubyrogues.com/">Ruby Rogues</a> podcast put together in October of last year. For some reason every time I attempted to write this article it came out feeling wrong. I&#8217;m going to try a different take on this subject now.</p>

<p>Several months ago I decided that I needed to broaden my professional horizons. I had been singularly focused on a few programming languages for far too long. I knew I needed to break out of that sedentary place and that there was a fundamental element I was missing. The problem: I didn&#8217;t know what that element was.</p>

<p>Now I say that several months ago I decided to do something, but the reality is that I have known for years that I could be doing more. <em>This</em> is where ego comes into play.</p>

<p>Ego may be the <em>single biggest impediment to improvement</em>.</p>

<p>Ego prevents us from asking questions. It prevents us from seeking out help. It stops us from acting in an empathetic way. Ego encourages us to be know-it-alls.</p>

<p>The astounding thing about ego is how difficult it is to counteract it. If you call someone out on their ego, what is driving that? There is likely a healthy dose of ego fueling the accusation that someone is filled with hubris. &#8220;This person is interfering with my greatness, I need to tell them to drop their ego!&#8221; At least that&#8217;s what I&#8217;ve tended to hear when someone has talked about another&#8217;s ego with me.</p>

<p>But for me, I believe ego has significantly impaired my ability to level up or move forward. I never wanted to accept that I was the least informed, or educated, person in the room. Often times I was being paid to be the most knowledgable person only to realize that I was maybe just slightly more experienced in the subject. Often I was either on even footing or worse! In these situations it wasn&#8217;t unusual if I found personal security in grabbing my ego tight and running with it. An opportunity for learning? I think not! I would have been more comfortable either attempting to look contemplative, while really just being confused, or, even worse, I would have attempted to derail conversations to a place where I was more familiar.</p>

<p>Was this always the case for me? No. Of course not. But in hindsight it happen more than it should have.</p>

<p>So why am I writing about this?</p>

<p>Ultimately breaking the ego chain was what I needed to write about when I have been trying to talk about starting fresh with Ruby. Yes, embracing newbiness requires a dismissal of ego. But the direction doesn&#8217;t go newbie to ego. It is the other way around! <em>Ego must go before</em> you can consider being a newbie of anything.</p>

<p>I wish I could say that dumping your ego was easy and that it felt good. Sometimes it does. It certainly depends on the people around you. Having a supportive group does make things simpler.</p>

<p>As a programmer it is tough to dismiss the ego outright. We pride ourselves on reviewing someone&#8217;s code and finding a bug, or figuring out a more elegant way to write the same method or class. Our ego is what drives us to solve problems! If I didn&#8217;t think I couldn&#8217;t do something I hadn&#8217;t done before I would never have made it in this profession at all. This is a time that ego is a benefit. Ego that pushes us, that drives us to become more than we are, that&#8217;s something we can embrace. Looking at it in this sense, it isn&#8217;t incorrect to say that ego is what is driving me to dismiss my ego now. How odd!</p>

<p>So in an effort to move past my typical embarrassment of asking questions that clearly show I don&#8217;t understand a subject with any sort of depth, or to try something, with varying degrees of success, just so that I can work on that particular skill, I am making a concerted effort to dismiss my ego. I made the video I&#8217;m embedding below with this in mind as well.</p>

<p>I want to continue to live a fulfilling life. In order for me to do that I need to know that I won&#8217;t allow something as insignificant as my ego get in the way of asking a question that could lead to a path of new experiences.</p>

<p>At the end of the day this is all about being a happier person.</p>

<p>Thanks for reading.</p>

<p>And here&#8217;s the video that I&#8217;ve been wanting to post here for months:</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/01/18/thoughts-on-ego/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/14/vim-precision-editing-video/">Vim - Precision Editing Video</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-14T20:25:00-07:00" pubdate data-updated="true">Nov 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.vim.org/">Vim</a> is my text editor of choice. Drew Neil is an
amazing Vim evangelist. If you haven&#8217;t, you should go check out
<a href="http://vimcasts.org/">VimCasts</a>. He also <a href="http://pragprog.com/book/dnvim/practical-vim">has a book</a> that I haven&#8217;t had a
chance to dive into yet, but I will be shortly.</p>

<p>If you haven&#8217;t yet, you should check out Drew Neil&#8217;s presentation on
Vim.</p>

<p>The first chunk, if you&#8217;re good with Vim, isn&#8217;t anything you don&#8217;t
already know. It is mainly Drew trying to convince people that modality
in a text editor is great. I agree. It is.</p>

<p>But about midway through, Drew busts out some of great power moves.
Some of them I&#8217;ve not seen before, but I have immediately introduced to
muscle memory workout.</p>

<p>The three that I picked up from this were:</p>

<ol>
<li><code>dt.</code> - delete until the dot.</li>
<li><code>vi[</code> - visually highlight everything between the square bracket.</li>
<li><code>gf</code> - go to the file under the cursor.</li>
</ol>


<p>Honestly, I don&#8217;t know how I never picked up <code>gf</code> before, but I promise
it is one that I won&#8217;t forget. The other two I&#8217;m in love with. I used
<code>dt.</code> while writing this post!</p>

<p>Anyway, here&#8217;s the presentation. Give it a look:</p>

<iframe src="http://player.vimeo.com/video/53144573?badge=0" width="500" height="281" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<p> <p><a href="http://vimeo.com/53144573">Vim - precision editing at the speed of thought</a> from <a href="http://vimeo.com/user4280938">&Oslash;redev Conference</a> on <a href="http://vimeo.com">Vimeo</a>.</p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/14/octopress-change-the-default-preview-server/">Octopress: Change the Default Preview Server</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-14T21:27:00-06:00" pubdate data-updated="true">Oct 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Another quick tip for people using <a href="http://octopress.org/">Octopress</a>:</p>

<p>If you&#8217;re running Octopress on Mac OSX you may be running into some real
performance issues when you run the <code>rake preview</code> command to check your
posts locally before you run the <code>rake deploy</code> to get things up and
running live. This is because, for whatever reason, the
<a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/webrick/rdoc/index.html">WEBrick</a> server runs slowly on
XCode 4.2+. I haven&#8217;t dived deep into finding a solution for this
because I found a nice fix.</p>

<p>First, run <code>gem install thin</code> from your command line.</p>

<p>This command will install the <a href="http://code.macournoyer.com/thin/">Ruby Thin Server</a>. This server is what I use
for my Rails testing as well and it works exactly the way I want it to.
(I have read many recommendations on using <a href="http://pow.cx/">Pow</a> as
well, but I haven&#8217;t spent the time looking into it so I can&#8217;t personally
recommend it yet.)</p>

<p>The next step is to change your <code>Gemfile</code> located in the top directory
of your Octopress files.  Simply add <code>gem 'thin'</code> to the development
group and save the changes.</p>

<p>This is what your <code>Gemfile</code> should look like now if you&#8217;re running
Octopress 2.0 without any changes up to this point:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">source</span> <span class="s2">&quot;http://rubygems.org&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">group</span> <span class="ss">:development</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;rake&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 0.9.2&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;rack&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 1.4.1&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;jekyll&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 0.11.2&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;rdiscount&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 1.6.8&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;pygments.rb&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 0.2.12&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;RedCloth&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 4.2.9&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;haml&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 3.1.6&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;compass&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 0.12.1&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;rubypants&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 0.2.0&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;rb-fsevent&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 0.9&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;stringex&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 1.4.0&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;liquid&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 2.3.0&#39;</span>
</span><span class='line'>  <span class="n">gem</span> <span class="s1">&#39;thin&#39;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">gem</span> <span class="s1">&#39;sinatra&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 1.3.2&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The next time you run <code>rake preview</code> your blog on
<a href="http://localhost:4000">http://localhost:4000</a> should run smooth as silk on the Thin server.</p>

<p>Enjoy your sweet, speedy, dev environment!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/14/git-tips-tagging/">Git Tips: Tagging</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-14T21:06:00-06:00" pubdate data-updated="true">Oct 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>File this under the <em>I&#8217;m always referencing this, so I&#8217;m going to do a
quick post about it</em> category.</p>

<p>Tagging in Git is super powerful and can save your butt. Here are a few
commands that I use often but never seem to remember.</p>

<p><strong>List</strong> all your tags:</p>

<p><code>git tag</code></p>

<hr />

<p><strong>Create</strong> a tag:</p>

<p><code>git tag -a v1.4</code></p>

<hr />

<p><strong>Push</strong> tags:</p>

<p><code>git push origin v1.4</code></p>

<p>or</p>

<p><code>git push origin --tags</code></p>

<hr />

<p><strong>Checkout</strong> a tag:</p>

<p><code>git checkout -b v1.4</code></p>

<hr />

<p><strong>Deleting</strong> a tag</p>

<p><code>git tag -d v1.4</code></p>

<hr />

<p><strong>Deleting</strong> a <em>remote</em> tag</p>

<p><code>git push origin :v1.4</code></p>

<hr />

<p><strong>Search</strong> for <em>specific</em> tags:</p>

<p><code>git tag -l 'v1.0.2'</code></p>

<hr />

<p><strong>See</strong> tag <em>data</em>:</p>

<p><code>git show v1.4</code></p>

<hr />

<p><strong>Retroactively</strong> tag:</p>

<p><code>git tag -a v1.4 &lt;&lt;checksum&gt;&gt;</code></p>

<hr />

<p>A couple of nice references on tagging:</p>

<p><a href="http://git-scm.com/book/en/Git-Basics-Tagging">Git Basics - Tagging</a><br/>
<a href="http://gitready.com/beginner/2009/02/03/tagging.html">Git Ready - Tagging</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/02/revenge-of-ruby-hashes/">Revenge of Ruby Hashes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-02T17:02:00-06:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Because I can&#8217;t seem to let this go, I continued to research the
challenge I was dealing with a <a href="http://blog.geoffpetrie.com/blog/2012/09/25/the-ruby-hashes-case/">few days back</a>
where I was trying to get the <a href="http://blog.geoffpetrie.com/blog/2012/09/25/python-dictionaries/">cool python trick</a>
to work with Ruby hashes.</p>

<p>After scrubbing the Ruby documentation a more carefully, it seems that
Ruby hashes and Python dictionaries are not entirely identical.  Most
importantly, Ruby hashes don&#8217;t have the same string methods that Python
dictionaries do. Meaning: Ruby hashes and Python dictionaries, while
similar, may be more of an apples and oranges sort of comparison.</p>

<p>With this in mind, I tried to trim up the code I wrote the last time to
produce the same output. This is what I came up with:</p>

<figure class='code'><figcaption><span>The New Semi-Colon Goodness semicolon2.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;server&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;gpetrie&quot;</span><span class="p">,</span> <span class="s2">&quot;database&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="s2">&quot;uid&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;sa&quot;</span><span class="p">,</span> <span class="s2">&quot;pwd&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;secret&quot;</span><span class="p">}</span>
</span><span class='line'><span class="n">arr</span> <span class="o">=</span> <span class="nb">Array</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>
</span><span class='line'><span class="nb">hash</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="o">|</span>
</span><span class='line'>  <span class="n">arr</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">#{</span><span class="n">val</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="nb">puts</span> <span class="n">arr</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;; &quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>What I&#8217;m doing here is forcing myself to work within the confines of the
initial premiss that the values are given to me in a hash. I convert the
hash to an array and then use the join method on the array to do what I
want to do to get the output that I want. <em>Semi-colon success achieved!</em></p>

<p>I think we can generally agree that this is better than the option I
proposed previously:</p>

<figure class='code'><figcaption><span>The Old Semi-Colon Badness semicolon.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;server&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;gpetrie&quot;</span><span class="p">,</span> <span class="s2">&quot;database&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="s2">&quot;uid&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;sa&quot;</span><span class="p">,</span> <span class="s2">&quot;pwd&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;secret&quot;</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nb">hash</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="o">|</span>
</span><span class='line'>  <span class="k">if</span> <span class="nb">hash</span><span class="o">.</span><span class="n">length</span> <span class="o">==</span> <span class="mi">1</span>
</span><span class='line'>    <span class="nb">print</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">#{</span><span class="n">val</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="nb">print</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2">=</span><span class="si">#{</span><span class="n">val</span><span class="si">}</span><span class="s2">; &quot;</span>
</span><span class='line'>    <span class="nb">hash</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>For my money, the new snippet is much more readable and is just a smidge
more compact. A win on all sides.</p>

<p>I probably won&#8217;t be returning to this subject again in the near term
(unless I find out I&#8217;m totally wrong here), but expect more Ruby focused
conversation coming up regularly here while I work my way through the
language.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/25/the-ruby-hashes-case/">The Ruby Hashes Case</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-25T23:55:00-06:00" pubdate data-updated="true">Sep 25<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Contrary to the date listed, the <a href="http://blog.geoffpetrie.com/blog/2012/09/25/python-dictionaries/">previous post</a> about Python and dictionaries and PHP and associative arrays was written a few weeks back. I&#8217;ve since been spending more time with Ruby.</p>

<p>After posting that article about how tight the Python code was in order to build a string with just the right number of semicolons, I decided to see if I could do the same thing with Ruby.</p>

<p>This is the solution I came up with:</p>

<pre><code>hash = {"server"=&gt;"gpetrie", "database"=&gt;"localhost", "uid"=&gt;"sa", "pwd"=&gt;"secret"}

hash.each do |key, val|
  if hash.length == 1
    print "#{key}=#{val}\n"
  else
    print "#{key}=#{val}; "
    hash.delete(key)
  end
end
</code></pre>

<p>I think I&#8217;m missing something here that would make this code much tighter. This looks very similar to the PHP code that I wrote as the solution in my previous article. There&#8217;s got to be a method that I&#8217;m not using that would allow me to dismiss the <code>delete</code> and the <code>hash.length</code> that I am using.</p>

<p>If you have thoughts or suggestions, hit me up on <a href="https://twitter.com/geopet">Twitter</a> and let me know.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/25/python-dictionaries/">Python Dictionaries, PHP Associative Arrays and Python Objects</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-25T20:47:00-06:00" pubdate data-updated="true">Sep 25<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you read my previous post on <a href="http://blog.geoffpetrie.com/blog/2012/08/29/on-the-problems-of-education-in-a-developers-world/">the challenge of education as a developer</a>, you&#8217;ll know about my interested in the Python language and syntax. I have had a reason to look at Python again recently and it&#8217;s pretty amazing what I had forgotten about the language.</p>

<p>Now I&#8217;ll admit that my understanding of object models and design patterns isn&#8217;t the finest. But as I was going through my Python refresher I had a bit of an aha moment.</p>

<p>It was this line of code that struck me as pretty significant:</p>

<pre><code>return ";".join(["%s=%s" % (k, v) for k, v in params.items()])
</code></pre>

<p>This code came from the <a href="http://www.diveintopython.net/native_data_types/summary.html">Dive into Python</a> website.</p>

<p>While it doesn&#8217;t look remarkable on the surface, knowing that <em>everything in Python is an object</em> (like Ruby and Javascript) you&#8217;ll appreciate how cool that line of code is. Specifically the <code>";"</code> piece of it.</p>

<p>That <code>.join</code> method is called <em>by</em> that semicolon. That&#8217;s pretty cool.</p>

<p>To demonstrate the importance of this piece, I decided to see how I could actually produce the same results that line of code does in PHP.</p>

<p>So that you understand the whole piece to this, the <code>params</code> variable is actually a dictionary (aka, an associative array in PHP) created in a small module. The variable is:</p>

<pre><code>params = {"server":"gpetrie", \
          "database":"localhost", \
          "uid":"sa", \
          "pwd":"secret" \
         }
</code></pre>

<p>The output from <code>return ";".join(["%s=%s" % (k, v) for k, v in params.items()])</code> is:</p>

<pre><code>pwd=secret;database=localhost;uid=sa;server=gpetrie
</code></pre>

<p>So the piece we&#8217;re going to focus on is how that last tuple is printed. You see that? <code>server=gpetrie</code>. There&#8217;s no semicolon at the end of that. That&#8217;s because the semicolon is the object calling the <code>.join</code> method.</p>

<p>How can I produce this same output using PHP and an associative array?</p>

<p>If I were to do something like this:</p>

<pre><code>$myParams = array("server"=&gt;"gpetrie", 
                  "database"=&gt;"localhost", 
                  "uid"=&gt;"sa", 
                  "pwd"=&gt;"secret");
</code></pre>

<p>to initialize the PHP script, and then follow it up with something like this:</p>

<pre><code>$str = "";

foreach ($myParams as $k=&gt;$v) {
  $str .= "$k:$v; "
}  

print_r($str);
</code></pre>

<p>We wouldn&#8217;t get what we wanted. We&#8217;d get this:</p>

<pre><code>server:gpetrie; database:localhost; uid:sa; pwd:secret; 
</code></pre>

<p>That semicolon at the end. That&#8217;s the problem.</p>

<p>So we try something a little more complex:</p>

<pre><code>$myParams = array("server"=&gt;"gpetrie", 
                  "database"=&gt;"localhost", 
                  "uid"=&gt;"sa", 
                  "pwd"=&gt;"secret");

$arrayCount = count($myParams);
$arrayKeys  = array_keys($myParams);

for ($i=0; $i&lt;$arrayCount; $i++) {
  $arrayKey = $arrayKeys[$i];
  $str .= $arrayKey.':'.$myParams[$arrayKey].';';
}

print_r($str);
</code></pre>

<p>But it doesn&#8217;t work either. We get:</p>

<pre><code>server:gpetrie; database:localhost; uid:sa; pwd:secret; 
</code></pre>

<p>as our output.</p>

<p>That <em>semicolon</em>!!!</p>

<p>Now I could be way off here. There is likely a far more elegant solution to this than I did, but this is the solution I came up with to produce the same output as the one line from Python:</p>

<pre><code>$myParams = array("server"=&gt;"gpetrie", 
                  "database"=&gt;"localhost", 
                  "uid"=&gt;"sa", 
                  "pwd"=&gt;"secret");

for ($i=0; $i&lt;=$arrayCount--; $i++) {
  $arrayKey = $arrayKeys[$i];
  $str .= $arrayKey.':'.$myParams[$arrayKey].';';
  unset($myParams[$arrayKey]);
}

$str .= key($myParams).':'.$myParams[key($myParams)];

print_r($str);
</code></pre>

<p>And now we get the result we want:</p>

<pre><code>server:gpetrie;database:localhost;uid:sa;pwd:secret
</code></pre>

<p>No semicolon at the end.</p>

<p>Now don&#8217;t misunderstand the point of this. This isn&#8217;t a Python versus PHP thing. This is just to show the interesting power of having everything as an object in Python and how much lighter your code can be because of it. Of course if you have a better solution to this than I do, please let me know. I&#8217;d love to see it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/04/some-quick-git-tips/">Git Tip: Use Prune to Update Local Repo Branches</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-04T21:46:00-06:00" pubdate data-updated="true">Sep 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="center" src="/images/git-prune.jpg" title="[pruning the stale branches]" ></p>

<p>I have multiple places where I work and I use <a href="http://git-scm.com/">Git</a> to support that. The general Git workflow I&#8217;ve adopted is similar to the one <a href="http://scottchacon.com/2011/08/31/github-flow.html">Scott Chacon describes</a>.</p>

<p>In Scott&#8217;s post he explains that anything in <code>master</code> is deployable, and any time you want to work on something you branch from <code>master</code> with something descriptively named. This is what I want to talk about now.</p>

<p>I use this process of branching to keep my changes manageable. By naming my branches descriptively I know that if I&#8217;m building a new user profiling tool, and changing the css of a navigational piece and updating a SQL query in the same branch, then the commit isn&#8217;t going to be terribly clean. Plus, now the branch has no meaning to me when I get feedback from a tester. This branch would make even less sense if I had someone else coding with me.</p>

<p>To keep branches meaningful I make a lot of branches off of <code>master</code>. I&#8217;ve come to the standard practice of pushing pretty much <em>any</em> branch I&#8217;m working on, no matter how minor, to the remote. This makes it simple to <code>fetch</code> and <code>merge</code> on my dev server instance instead of scp&#8217;ing the work I&#8217;ve done to the server. The process is just feels a little crisper.</p>

<p>After the testers have given the thumbs up on the work and I do my final code review, I merge the branch to master, push it out to production and delete that feature/bugfix branch. All-in-all it is a generally good system.</p>

<p>But what inevitably happens is the dev server has a bunch of branches that are no longer useful and don&#8217;t have a remote counterpart to them. It gets to be a bit of a mess when you run <code>git branch</code> and see a dozen old branches sitting there.</p>

<p>To fix this issue I found a great, quick command:</p>

<p><code>git remote prune origin</code></p>

<p>Where <code>origin</code> is the name of the remote.</p>

<p><a href="http://www.kernel.org/pub/software/scm/git/docs/git-remote.html">From the manual</a>:</p>

<blockquote><p><strong>prune</strong></p>

<p><code>git remote prune [-n | --dry-run] &lt;name&gt;</code></p>

<p>Deletes all stale remote-tracking branches under <code>&lt;name&gt;</code>. These stale branches have already been removed from the remote repository referenced by <code>&lt;name&gt;</code>, but are still locally available in <code>"remotes/&lt;name&gt;"</code>.</p>

<p>With <code>--dry-run</code> option, report what branches will be pruned, but do not actually prune them.</p></blockquote>

<p><code>prune</code> is one of those commands that you may not use very often, but it is nice to know it&#8217;s there when you need it.</p>

<hr />

<p><strong>Endnote:</strong></p>

<p>I found this particular <a href="http://stackoverflow.com/a/3994587/887078">Stack Overflow</a> answer useful when I was looking for information on how to handle dead remote branches.</p>

<p><em>Image &#8220;Four volunteers prune some plants that were growing over the trail.&#8221; from <a href="http://www.flickr.com/photos/presidiosf/6209563606/">United States Government Work</a></em></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>I&#8217;m a software developer and a technical manager. I like <em>a lot</em> of different things. This space is for me to have a place to write about those things.</p>
  <p>You can find out more about me by going to <a href="http://geoffpetrie.com">geoffpetrie.com</a></p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/02/15/manually-pushing-to-a-remote-branch/">Manually Pushing to a Remote Git Branch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/30/fixing-a-slow-localhost-webrick-server/">Fixing a Slow Localhost Webrick Server</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/18/thoughts-on-ego/">Some Thoughts on Ego</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/14/vim-precision-editing-video/">Vim - Precision Editing Video</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/14/octopress-change-the-default-preview-server/">Octopress: Change the Default Preview Server</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("geopet", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/geopet" class="twitter-follow-button" data-show-count="false">Follow @geopet</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/geopet">@geopet</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'geopet',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Geoff Petrie -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
