---
layout: post
title: "Octopress Without Gemsets: Use Binstubs or bundle exec"
date: 2013-12-30 15:11:40 -0700
comments: true
categories: [tips, octopress, rake, bundler, binstubs, gemsets]
published: false
---

_It doesn't go without notice that a significant number of my posts have been about how to improve on the engine that I use to publish this blog. Keeping with this theme, I am writing two short posts on my experience of getting Octopress up to speed for the coming year._

As I was preparing my [Octopress](http://octopress.org/) instance for the new year I found a couple of things that were no longer working that were a result of not having gemsets available to me any longer. <!-- more -->

Over this past year I moved from using [rvm](http://rvm.io/) to manage my rubies to using [ruby-install](https://github.com/postmodern/ruby-install) and [chruby](https://github.com/postmodern/chruby). Due to this change I no longer had the benefit of using [gemsets](http://rvm.io/gemsets/basics) that rvm provided so nicely. What this meant was that when I typed `rake generate` or `rake new_post['My Awesome Title']` I would get the following error:

```bash
% rake generate
rake aborted!
You have already activated rake 10.1.0, but your Gemfile requires rake 0.9.6. Using bundle exec may solve this.
```
{% pullquote %}
This requirement of typing `bundle exec rake` was a bit of a hassle and for a short time I investigated what my chruby gemset options looked like to "correct" this issue.  Then I came across an [interesting comment](https://github.com/postmodern/chruby/issues/117#issuecomment-16486636) in the chruby GitHub issues which essentially said: {"` bundle exec` forces the user to specifically select which version of the gem they want to run in a project: the system gem or the bundled gem. "}
{% endpullquote %}

I can see significant value in this and have decided to deal with the minor inconvenience of typing out `bundle exec` to create a slightly more bullet-proof environment. If anyone were to fall into problems generated by using [binstubs](http://bundler.io/v1.5/man/bundle-exec.1.html) and adding the project bin to my path, it would be me.

What's fun about this problem is it answered a question I had recently asked about what the value was in gemsets. It also brought to light how binstubs work and what `bundle exec` is actually doing. I'm slightly embarrassed that I really didn't have a strong understanding of the functionality of these services.

I may still use binstubs for this project, as they force me to manually select the project gem the same way `bundle exec rake` would, except it would be `bin/rake` to call it instead.

I love how a simple error message can lead to that much broader understanding of how these services play with one another.

In the next post I'll talk about how changing to zsh affected my Octopress workflow.